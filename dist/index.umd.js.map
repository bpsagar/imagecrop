{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 172b77489f1f8a5cbbb5","webpack:///./src/index.js","webpack:///./src/sass/style.scss?b5b5","webpack:///./src/sass/style.scss","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/style-loader/addStyles.js","webpack:///external \"jQuery\"","webpack:///./src/imagecrop.js","webpack:///./src/constants.js","webpack:///./src/defaults.js","webpack:///./src/draghandler.js","webpack:///./src/cropbox.js"],"names":["create","id","options","discover","each","index","image","data","aspectRatio","parseFloat","precision","inputs","x1","y1","x2","y2","file","ImageCrop","$image","extend","img","document","querySelector","complete","init","addEventListener","$cropbox","forceDefault","cropbox","imageWidth","width","imageHeight","height","fields","map","value","field","val","css","backgroundImage","attr","wrap","containerClass","$container","closest","append","overlayClass","cropboxClass","find","resizehandleClass","$resizehandle","bpX","bpY","left","top","right","bottom","backgroundPosition","backgroundSize","factor","Math","pow","round","isNaN","addDOM","getInitCropbox","x","y","positionCropbox","updateFields","cropboxDragHandler","offset","resizehandleDragHandler","length","on","e","target","files","reader","FileReader","onload","result","readAsDataURL","DragHandler","element","callback","$element","clicked","cursor","clientX","clientY","preventDefault","stopPropagation","handleDragStart","touches","handleDrag","handleDragEnd","changedTouches","move","xOffset","yOffset","resize"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;ACtCA;;AACA;;;;AACA;;;;;;AAEO,KAAMA,0BAAS,SAATA,MAAS,CAACC,EAAD,EAAKC,OAAL;AAAA,UAAkB,wBAAcD,EAAd,EAAkBC,OAAlB,CAAlB;AAAA,EAAf;;AAEA,KAAMC,8BAAW,SAAXA,QAAW,GAAM;AAC5B,yBAAE,kBAAF,EAAsBC,IAAtB,CAA2B,UAACC,KAAD,EAAQC,KAAR,EAAkB;AAC3C,SAAIL,KAAK,sBAAEK,KAAF,EAASC,IAAT,CAAc,WAAd,CAAT;AACA,SAAIC,cAAcC,WAAW,sBAAEH,KAAF,EAASC,IAAT,CAAc,uBAAd,CAAX,EAAmD,EAAnD,KAA0D,IAA5E;AACA,SAAIG,YAAYD,WAAW,sBAAEH,KAAF,EAASC,IAAT,CAAc,qBAAd,CAAX,EAAiD,EAAjD,KAAwD,IAAxE;AACAP,kCACsBC,EADtB,QAEE;AACEO,oBAAaA,WADf;AAEEE,kBAAWA,SAFb;AAGEC,eAAQ;AACNC,sCAA2BX,EAA3B,OADM;AAENY,sCAA2BZ,EAA3B,OAFM;AAGNa,sCAA2Bb,EAA3B,OAHM;AAINc,sCAA2Bd,EAA3B,OAJM;AAKNe,0CAA+Bf,EAA/B;AALM;AAHV,MAFF;AAcD,IAlBD;AAmBD,EApBM,C;;;;;;ACNP;;AAEA;AACA;AACA;AACA;AACA,gDAAmF;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;ACpBA;AACA;;;AAGA;AACA,uCAAsC,uBAAuB,0BAA0B,iBAAiB,EAAE,yBAAyB,yBAAyB,2CAA2C,cAAc,eAAe,aAAa,gBAAgB,EAAE,yBAAyB,yBAAyB,mBAAmB,EAAE,iCAAiC,oBAAoB,2BAA2B,gBAAgB,iBAAiB,eAAe,kBAAkB,gCAAgC,EAAE,yCAAyC,2BAA2B,mBAAmB,oBAAoB,oBAAoB,qBAAqB,+BAA+B,2BAA2B,mBAAmB,0BAA0B,mDAAmD,EAAE;;AAE9yB;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA,yCAAwC,gBAAgB;AACxD,KAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA,aAAY,oBAAoB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACjDA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,sBAAsB;AACtC;AACA;AACA,mBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA,kBAAiB,2BAA2B;AAC5C;AACA;AACA,SAAQ,uBAAuB;AAC/B;AACA;AACA,IAAG;AACH;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA,iCAAgC,sBAAsB;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,wDAAuD;AACvD;;AAEA,8BAA6B,mBAAmB;;AAEhD;;AAEA;;AAEA;AACA;AACA;;;;;;;ACrPA,gD;;;;;;;;;;;;;;;;ACAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;KAEqBgB,S;AACnB,sBAAahB,EAAb,EAAiBC,OAAjB,EAA0B;AAAA;;AAAA;;AACxB,SAAIgB,SAAS,2BAAKjB,EAAL,CAAb;AACAC,eAAUA,WAAW,EAArB;AACAA,eAAU,iBAAEiB,MAAF,qBAAmBjB,OAAnB,CAAV;;AAEA;AACA,SAAIkB,MAAMC,SAASC,aAAT,CAAuBrB,EAAvB,CAAV;AACA,SAAImB,IAAIG,QAAR,EAAkB;AAChB,YAAKC,IAAL,CAAUN,MAAV,EAAkBhB,OAAlB;AACD,MAFD,MAGK;AACHkB,WAAIK,gBAAJ,CAAqB,MAArB,EAA6B,YAAM;AAAE,eAAKD,IAAL,CAAUN,MAAV,EAAkBhB,OAAlB;AAA4B,QAAjE;AACD;AACF;;AAED;;;;;;;;;;oCAMgBgB,M,EAAQQ,Q,EAAUxB,O,EAA+B;AAAA,WAAtByB,YAAsB,uEAAP,KAAO;;AAC/D,WAAIC,UAAU;AACZC,qBAAYX,OAAOY,KAAP,EADA;AAEZC,sBAAab,OAAOc,MAAP,EAFD;AAGZxB,sBAAaN,QAAQM;AAHT,QAAd;AAKA,WAAIyB,SAAS,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,CAAb;AACAA,cAAOC,GAAP,CAAW,iBAAS;AAClB,aAAIC,QAAQ,mBAASP,OAAT,CAAiBQ,KAAjB,CAAZ;AACA,aAAIlC,QAAQS,MAAR,CAAeyB,KAAf,KAAyB,CAACT,YAA9B,EAA4C;AAC1CQ,mBAAQ1B,WAAW,sBAAEP,QAAQS,MAAR,CAAeyB,KAAf,CAAF,EAAyBC,GAAzB,EAAX,EAA2C,EAA3C,KAAkDF,KAA1D;AACD;AACDP,iBAAQQ,KAAR,IAAiBD,KAAjB;AACD,QAND;AAOAT,gBAASY,GAAT,CAAa;AACXC,mCAAwBrB,OAAOsB,IAAP,CAAY,KAAZ,CAAxB;AADW,QAAb;AAGA,cAAOZ,OAAP;AACD;;AAED;;;;;;;4BAIQV,M,EAAQ;AACdA,cAAOuB,IAAP,kBAA2B,oBAAUC,cAArC;AACA,WAAIC,aAAazB,OAAO0B,OAAP,OAAmB,oBAAUF,cAA7B,CAAjB;AACAC,kBAAWE,MAAX,kBAAiC,oBAAUC,YAA3C;AACAH,kBAAWE,MAAX,kBAAiC,oBAAUE,YAA3C;AACA,WAAIrB,WAAWiB,WAAWK,IAAX,OAAoB,oBAAUD,YAA9B,CAAf;AACArB,gBAASmB,MAAT,kBAA+B,oBAAUI,iBAAzC;AACA,WAAIC,gBAAgBxB,SAASsB,IAAT,OAAkB,oBAAUC,iBAA5B,CAApB;AACA,cAAO,CAACN,UAAD,EAAajB,QAAb,EAAuBwB,aAAvB,CAAP;AACD;;AAED;;;;;;;;qCAKiBxB,Q,EAAUR,M,EAAQU,O,EAAS;AAC1C,WAAIuB,MAAM,EAAEvB,QAAQhB,EAAR,GAAagB,QAAQC,UAArB,GAAkC,GAApC,CAAV;AACA,WAAIuB,MAAM,EAAExB,QAAQf,EAAR,GAAae,QAAQG,WAArB,GAAmC,GAArC,CAAV;AACAL,gBAASY,GAAT,CAAa;AACXe,eAASzB,QAAQhB,EAAjB,MADW;AAEX0C,cAAQ1B,QAAQf,EAAhB,MAFW;AAGX0C,gBAAW,MAAM3B,QAAQd,EAAzB,MAHW;AAIX0C,iBAAY,MAAM5B,QAAQb,EAA1B,MAJW;AAKX0C,6BAAuBN,GAAvB,WAAgCC,GAAhC,OALW;AAMXM,yBAAmB9B,QAAQC,UAA3B,WAA2CD,QAAQG,WAAnD;AANW,QAAb;AAQD;;AAED;;;;;;;;kCAKcH,O,EAAS1B,O,EAAS;AAC9B,YAAK,IAAIkC,KAAT,IAAkBlC,QAAQS,MAA1B,EAAkC;AAChC,aAAIyB,SAAS,MAAb,EAAqB;AACnB;AACD;AACD,aAAIlC,QAAQS,MAAR,CAAeyB,KAAf,CAAJ,EAA2B;AACzB,eAAID,QAAQP,QAAQQ,KAAR,CAAZ;AACA,eAAIuB,SAASC,KAAKC,GAAL,CAAS,EAAT,EAAa3D,QAAQQ,SAArB,CAAb;AACAyB,mBAAQyB,KAAKE,KAAL,CAAW3B,QAAQwB,MAAnB,IAA6BA,MAArC;AACA,eAAII,MAAM5B,KAAN,CAAJ,EAAkB;AAChBA,qBAAQ,CAAR;AACD;AACD,iCAAEjC,QAAQS,MAAR,CAAeyB,KAAf,CAAF,EAAyBC,GAAzB,CAA6BF,KAA7B;AACD;AACF;AACF;;;0BAEKjB,M,EAAQhB,O,EAAS;AAAA;;AAAA,qBACuB,KAAK8D,MAAL,CAAY9C,MAAZ,CADvB;AAAA;AAAA,WAChByB,UADgB;AAAA,WACJjB,QADI;AAAA,WACMwB,aADN;;AAErB,WAAItB,UAAU,KAAKqC,cAAL,CAAoB/C,MAApB,EAA4BQ,QAA5B,EAAsCxB,OAAtC,CAAd;AACA0B,iBAAU,qBAAOA,OAAP,EAAgB,EAAEsC,GAAG,CAAL,EAAQC,GAAG,CAAX,EAAhB,CAAV;AACA,YAAKC,eAAL,CAAqB1C,QAArB,EAA+BR,MAA/B,EAAuCU,OAAvC;AACA,YAAKyC,YAAL,CAAkBzC,OAAlB,EAA2B1B,OAA3B;AACA,WAAIoE,qBAAqB,0BAAgB5C,QAAhB,EAA0B,UAAC6C,MAAD,EAAY;AAC7D3C,mBAAU,mBAAKA,OAAL,EAAc2C,MAAd,CAAV;AACA,gBAAKH,eAAL,CAAqB1C,QAArB,EAA+BR,MAA/B,EAAuCU,OAAvC;AACA,gBAAKyC,YAAL,CAAkBzC,OAAlB,EAA2B1B,OAA3B;AACD,QAJwB,CAAzB;AAKAoE,0BAAmB9C,IAAnB;AACA,WAAIgD,0BAA0B,0BAAgBtB,aAAhB,EAA+B,UAACqB,MAAD,EAAY;AACvE3C,mBAAU,qBAAOA,OAAP,EAAgB2C,MAAhB,CAAV;AACA,gBAAKH,eAAL,CAAqB1C,QAArB,EAA+BR,MAA/B,EAAuCU,OAAvC;AACA,gBAAKyC,YAAL,CAAkBzC,OAAlB,EAA2B1B,OAA3B;AACD,QAJ6B,CAA9B;AAKAsE,+BAAwBhD,IAAxB;;AAEA,WAAItB,QAAQS,MAAR,CAAeK,IAAf,IAAuB,sBAAEd,QAAQS,MAAR,CAAeK,IAAjB,EAAuByD,MAAlD,EAA0D;AACxD,+BAAEpD,QAAF,EAAYqD,EAAZ,CAAe,QAAf,EAAyBxE,QAAQS,MAAR,CAAeK,IAAxC,EAA8C,UAAC2D,CAAD,EAAO;AACnD,eAAIA,EAAEC,MAAF,CAASC,KAAT,IAAkBF,EAAEC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAtB,EAAyC;AACvC,iBAAIC,SAAS,IAAIC,UAAJ,EAAb;AACAD,oBAAOE,MAAP,GAAgB,UAACL,CAAD,EAAO;AACrBzD,sBAAOsB,IAAP,CAAY,KAAZ,EAAmBmC,EAAEC,MAAF,CAASK,MAA5B;AACA/D,sBAAO,CAAP,EAAUO,gBAAV,CAA2B,MAA3B,EAAmC,YAAM;AACvCG,2BAAU,OAAKqC,cAAL,CAAoB/C,MAApB,EAA4BQ,QAA5B,EAAsCxB,OAAtC,EAA+C,IAA/C,CAAV;AACA0B,2BAAU,mBAAKA,OAAL,EAAc,EAACsC,GAAG,CAAJ,EAAOC,GAAG,CAAV,EAAd,CAAV;AACAvC,2BAAU,qBAAOA,OAAP,EAAgB,EAACsC,GAAG,CAAJ,EAAOC,GAAG,CAAV,EAAhB,CAAV;AACA,wBAAKC,eAAL,CAAqB1C,QAArB,EAA+BR,MAA/B,EAAuCU,OAAvC;AACA,wBAAKyC,YAAL,CAAkBzC,OAAlB,EAA2B1B,OAA3B;AACD,gBAND;AAOD,cATD;AAUA4E,oBAAOI,aAAP,CAAqBP,EAAEC,MAAF,CAASC,KAAT,CAAe,CAAf,CAArB;AACD;AACF,UAfD;AAgBD;AACF;;;;;;mBAtIkB5D,S;;;;;;;;;;;mBCNN;AACbyB,mBAAgB,WADH;AAEbI,iBAAc,SAFD;AAGbC,iBAAc,SAHD;AAIbE,sBAAmB;AAJN,E;;;;;;;;;;;mBCAA;AACbvC,cAAW,CADE;AAEbF,gBAAa,IAFA;AAGboB,YAAS,EAAEhB,IAAI,CAAN,EAASC,IAAI,CAAb,EAAgBC,IAAI,GAApB,EAAyBC,IAAI,GAA7B,EAHI;AAIbJ,WAAQ;AAJK,E;;;;;;;;;;;;;;ACAf;;;;;;;;KAEqBwE,W;AACnB;;;;;;AAMA,wBAAaC,OAAb,EAAsBC,QAAtB,EAAgC;AAAA;;AAC9B,UAAKC,QAAL,GAAgB,sBAAEF,OAAF,CAAhB;AACA,UAAKC,QAAL,GAAgBA,QAAhB;AACA,UAAKE,OAAL,GAAe,KAAf;AACA,UAAKC,MAAL,GAAc,EAAEtB,GAAG,IAAL,EAAWC,GAAG,IAAd,EAAd;AACD;;AAED;;;;;;;;qCAIiBQ,C,EAAG;AAClB,YAAKY,OAAL,GAAe,IAAf;AACA,YAAKC,MAAL,GAAc,EAAEtB,GAAGS,EAAEc,OAAP,EAAgBtB,GAAGQ,EAAEe,OAArB,EAAd;AACD;;AAED;;;;;;;gCAIYf,C,EAAG;AACb,WAAI,CAAC,KAAKY,OAAV,EAAmB;AAAE;AAAQ;AAC7B,WAAIhB,SAAS,EAAEL,GAAGS,EAAEc,OAAF,GAAY,KAAKD,MAAL,CAAYtB,CAA7B,EAAgCC,GAAGQ,EAAEe,OAAF,GAAY,KAAKF,MAAL,CAAYrB,CAA3D,EAAb;AACA,YAAKqB,MAAL,GAAc,EAAEtB,GAAGS,EAAEc,OAAP,EAAgBtB,GAAGQ,EAAEe,OAArB,EAAd;AACA,YAAKL,QAAL,CAAcd,MAAd;AACD;;AAED;;;;;;;mCAIeI,C,EAAG;AAChB,WAAI,CAAC,KAAKY,OAAV,EAAmB;AAAE;AAAQ;AAC7B,WAAIhB,SAAS,EAAEL,GAAGS,EAAEc,OAAF,GAAY,KAAKD,MAAL,CAAYtB,CAA7B,EAAgCC,GAAGQ,EAAEe,OAAF,GAAY,KAAKF,MAAL,CAAYrB,CAA3D,EAAb;AACA,YAAKoB,OAAL,GAAe,KAAf;AACA,YAAKC,MAAL,GAAc,EAAEtB,GAAG,IAAL,EAAWC,GAAG,IAAd,EAAd;AACA,YAAKkB,QAAL,CAAcd,MAAd;AACD;;AAED;;;;;;4BAGQ;AAAA;;AACN;AACA,YAAKe,QAAL,CAAcZ,EAAd,CAAiB,WAAjB,EAA8B,UAACC,CAAD,EAAO;AACnCA,WAAEgB,cAAF;AACAhB,WAAEiB,eAAF;AACA,eAAKC,eAAL,CAAqBlB,CAArB;AACD,QAJD;AAKA,YAAKW,QAAL,CAAcZ,EAAd,CAAiB,YAAjB,EAA+B,UAACC,CAAD,EAAO;AACpCA,WAAEgB,cAAF;AACAhB,WAAEiB,eAAF;AACA,eAAKC,eAAL,CAAqBlB,EAAEmB,OAAF,CAAU,CAAV,CAArB;AACD,QAJD;;AAMA;AACA,6BAAEzE,QAAF,EAAYqD,EAAZ,CAAe,WAAf,EAA4B,UAACC,CAAD,EAAO;AACjCA,WAAEgB,cAAF;AACA,eAAKI,UAAL,CAAgBpB,CAAhB;AACD,QAHD;AAIA,6BAAEtD,QAAF,EAAYqD,EAAZ,CAAe,WAAf,EAA4B,UAACC,CAAD,EAAO;AACjCA,WAAEgB,cAAF;AACA,eAAKI,UAAL,CAAgBpB,EAAEmB,OAAF,CAAU,CAAV,CAAhB;AACD,QAHD;;AAKA;AACA,6BAAEzE,QAAF,EAAYqD,EAAZ,CAAe,SAAf,EAA0B,UAACC,CAAD,EAAO;AAC/BA,WAAEgB,cAAF;AACA,eAAKK,aAAL,CAAmBrB,CAAnB;AACD,QAHD;AAIA,6BAAEtD,QAAF,EAAYqD,EAAZ,CAAe,UAAf,EAA2B,UAACC,CAAD,EAAO;AAChCA,WAAEgB,cAAF;AACA,eAAKK,aAAL,CAAmBrB,EAAEsB,cAAF,CAAiB,CAAjB,CAAnB;AACD,QAHD;AAID;;;;;;mBAjFkBd,W;;;;;;;;;;;;;;ACDrB;;;;;;AAMO,KAAMe,sBAAO,SAAPA,IAAO,CAACtE,OAAD,EAAU2C,MAAV,EAAqB;AAAA,OACjC3D,EADiC,GACWgB,OADX,CACjChB,EADiC;AAAA,OAC7BC,EAD6B,GACWe,OADX,CAC7Bf,EAD6B;AAAA,OACzBC,EADyB,GACWc,OADX,CACzBd,EADyB;AAAA,OACrBC,EADqB,GACWa,OADX,CACrBb,EADqB;AAAA,OACjBc,UADiB,GACWD,OADX,CACjBC,UADiB;AAAA,OACLE,WADK,GACWH,OADX,CACLG,WADK;;AAEvC,OAAImC,IAAIK,OAAOL,CAAP,GAAW,GAAX,GAAiBrC,UAAzB;AACA,OAAIsC,IAAII,OAAOJ,CAAP,GAAW,GAAX,GAAiBpC,WAAzB;;AAEAnB,SAAMsD,CAAN;AACArD,SAAMsD,CAAN;AACArD,SAAMoD,CAAN;AACAnD,SAAMoD,CAAN;;AAEA,OAAIvD,KAAK,CAAT,EAAY;AACV;AACA,SAAIuF,UAAU,CAAEvF,EAAhB;AACAA,UAAK,CAAL;AACAE,WAAMqF,OAAN;AACD;;AAED,OAAItF,KAAK,CAAT,EAAY;AACV;AACA,SAAIuF,UAAU,CAAEvF,EAAhB;AACAA,UAAK,CAAL;AACAE,WAAMqF,OAAN;AACD;;AAED,OAAItF,KAAK,GAAT,EAAc;AACZ;AACA,SAAIqF,UAAUrF,KAAK,GAAnB;AACAA,UAAK,GAAL;AACAF,WAAMuF,OAAN;AACD;;AAED,OAAIpF,KAAK,GAAT,EAAc;AACZ;AACA,SAAIqF,UAAUrF,KAAK,GAAnB;AACAA,UAAK,GAAL;AACAF,WAAMuF,OAAN;AACD;;AAED,uBAAYxE,OAAZ,IAAqBhB,MAArB,EAAyBC,MAAzB,EAA6BC,MAA7B,EAAiCC,MAAjC;AACD,EAvCM;;AAyCP;;;;;;AAMO,KAAMsF,0BAAS,SAATA,MAAS,CAACzE,OAAD,EAAU2C,MAAV,EAAqB;AAAA,OACnC3D,EADmC,GACsBgB,OADtB,CACnChB,EADmC;AAAA,OAC/BC,EAD+B,GACsBe,OADtB,CAC/Bf,EAD+B;AAAA,OAC3BC,EAD2B,GACsBc,OADtB,CAC3Bd,EAD2B;AAAA,OACvBC,EADuB,GACsBa,OADtB,CACvBb,EADuB;AAAA,OACnBc,UADmB,GACsBD,OADtB,CACnBC,UADmB;AAAA,OACPE,WADO,GACsBH,OADtB,CACPG,WADO;AAAA,OACMvB,WADN,GACsBoB,OADtB,CACMpB,WADN;;AAEzC,OAAI0D,IAAIK,OAAOL,CAAP,GAAW,GAAX,GAAiBrC,UAAzB;AACA,OAAIsC,IAAII,OAAOJ,CAAP,GAAW,GAAX,GAAiBpC,WAAzB;;AAEAjB,SAAMoD,CAAN;AACAnD,SAAMoD,CAAN;;AAEA,OAAIrD,KAAK,GAAT,EAAc;AACZ;AACAA,UAAK,GAAL;AACD;;AAED,OAAIC,KAAK,GAAT,EAAc;AACZ;AACAA,UAAK,GAAL;AACD;;AAED,OAAIP,WAAJ,EAAiB;AACf;AACA,SAAIsB,QAAQ,CAAChB,KAAKF,EAAN,IAAYiB,UAAZ,GAAyB,GAArC;AACA,SAAIG,SAASF,QAAQtB,WAArB;AACAO,UAAKF,KAAMmB,SAAS,GAAT,GAAeD,WAA1B;;AAEA,SAAIhB,KAAK,GAAT,EAAc;AACZA,YAAK,GAAL;AACAiB,gBAAS,CAACjB,KAAKF,EAAN,IAAYkB,WAAZ,GAA0B,GAAnC;AACAD,eAAQE,SAASxB,WAAjB;AACD;;AAEDM,UAAKF,KAAMkB,QAAQ,GAAR,GAAcD,UAAzB;AACAd,UAAKF,KAAMmB,SAAS,GAAT,GAAeD,WAA1B;AACD;;AAED,OAAIjB,KAAKF,EAAT,EAAa;AACX;AACAE,UAAKF,EAAL;AACD;;AAED,OAAIG,KAAKF,EAAT,EAAa;AACX;AACAE,UAAKF,EAAL;AACD;;AAED,uBAAYe,OAAZ,IAAqBhB,MAArB,EAAyBC,MAAzB,EAA6BC,MAA7B,EAAiCC,MAAjC;AACD,EA7CM,C","file":"index.umd.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jQuery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jQuery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"imagecrop\"] = factory(require(\"jQuery\"));\n\telse\n\t\troot[\"imagecrop\"] = factory(root[\"jQuery\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_5__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 172b77489f1f8a5cbbb5","import './sass/style.scss'\nimport $ from 'jquery'\nimport ImageCrop from './imagecrop'\n\nexport const create = (id, options) => (new ImageCrop(id, options))\n\nexport const discover = () => {\n  $('[data-imagecrop]').each((index, image) => {\n    let id = $(image).data('imagecrop')\n    let aspectRatio = parseFloat($(image).data('imagecrop-aspectratio'), 10) || null\n    let precision = parseFloat($(image).data('imagecrop-precision'), 10) || null\n    create(\n      `[data-imagecrop=\"${id}\"`,\n      {\n        aspectRatio: aspectRatio,\n        precision: precision,\n        inputs: {\n          x1: `[data-imagecrop-x1=\"${id}\"]`,\n          y1: `[data-imagecrop-y1=\"${id}\"]`,\n          x2: `[data-imagecrop-x2=\"${id}\"]`,\n          y2: `[data-imagecrop-y2=\"${id}\"]`,\n          file: `[data-imagecrop-file=\"${id}\"]`\n        }\n      }\n    )\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/sass/style.scss\n// module id = 1\n// module chunks = 0","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".imagecrop {\\n  position: relative;\\n  display: inline-block;\\n  font-size: 0; }\\n  .imagecrop .overlay {\\n    position: absolute;\\n    background-color: rgba(0, 0, 0, 0.7);\\n    left: 0;\\n    right: 0;\\n    top: 0;\\n    bottom: 0; }\\n  .imagecrop .cropbox {\\n    position: absolute;\\n    cursor: move; }\\n    .imagecrop .cropbox:after {\\n      content: '';\\n      position: absolute;\\n      left: 0;\\n      right: 0;\\n      top: 0;\\n      bottom: 0;\\n      border: 1px dashed #FFF; }\\n    .imagecrop .cropbox .resizehandle {\\n      position: absolute;\\n      right: 0px;\\n      bottom: 0px;\\n      width: 10px;\\n      height: 10px;\\n      background-color: #FFF;\\n      border-radius: 50%;\\n      z-index: 1;\\n      cursor: se-resize;\\n      transform: translateX(50%) translateY(50%); }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/sass-loader!./src/sass/style.scss\n// module id = 2\n// module chunks = 0","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader/lib/css-base.js\n// module id = 3\n// module chunks = 0","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader/addStyles.js\n// module id = 4\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 5\n// module chunks = 0","import $ from 'jquery'\nimport constants from './constants'\nimport defaults from './defaults'\nimport DragHandler from './draghandler'\nimport { move, resize } from './cropbox'\n\nexport default class ImageCrop {\n  constructor (id, options) {\n    let $image = $(`${id}`)\n    options = options || {}\n    options = $.extend(defaults, options)\n\n    // Initialize everything once the image has been loaded\n    let img = document.querySelector(id)\n    if (img.complete) {\n      this.init($image, options)\n    }\n    else {\n      img.addEventListener('load', () => { this.init($image, options) })\n    }\n  }\n\n  /**\n   * Returns the initial x1, y1, x2, y2, image width, height and aspect ratio\n   * @param  {jQuery element} $image  image element\n   * @param  {Object}         options cropbox options\n   * @return {Object}         initial cropbox properties\n   */\n  getInitCropbox ($image, $cropbox, options, forceDefault = false) {\n    let cropbox = {\n      imageWidth: $image.width(),\n      imageHeight: $image.height(),\n      aspectRatio: options.aspectRatio\n    }\n    let fields = ['x1', 'y1', 'x2', 'y2']\n    fields.map(field => {\n      let value = defaults.cropbox[field]\n      if (options.inputs[field] && !forceDefault) {\n        value = parseFloat($(options.inputs[field]).val(), 10) || value \n      }\n      cropbox[field] = value\n    })\n    $cropbox.css({\n      backgroundImage: `url(${$image.attr('src')})`\n    })\n    return cropbox\n  }\n\n  /**\n   * Adding necessary DOM\n   * @param {jQuery element} $image image element\n   */\n  addDOM ($image) {\n    $image.wrap(`<div class=\"${constants.containerClass}\"></div>`)\n    let $container = $image.closest(`.${constants.containerClass}`)\n    $container.append(`<div class=\"${constants.overlayClass}\"></div>`)\n    $container.append(`<div class=\"${constants.cropboxClass}\"></div>`)\n    let $cropbox = $container.find(`.${constants.cropboxClass}`)\n    $cropbox.append(`<div class=\"${constants.resizehandleClass}\"></div>`)\n    let $resizehandle = $cropbox.find(`.${constants.resizehandleClass}`)\n    return [$container, $cropbox, $resizehandle]\n  }\n\n  /**\n   * Position the cropbox\n   * @param  {jQuery element} $cropbox image's cropbox element\n   * @param  {Object}         cropbox  cropbox properties\n   */\n  positionCropbox ($cropbox, $image, cropbox) {\n    let bpX = -(cropbox.x1 * cropbox.imageWidth / 100)\n    let bpY = -(cropbox.y1 * cropbox.imageHeight / 100)\n    $cropbox.css({\n      left: `${cropbox.x1}%`,\n      top: `${cropbox.y1}%`,\n      right: `${(100 - cropbox.x2)}%`,\n      bottom: `${(100 - cropbox.y2)}%`,\n      backgroundPosition: `${bpX}px ${bpY}px`,\n      backgroundSize: `${cropbox.imageWidth}px ${cropbox.imageHeight}px`,\n    })\n  }\n\n  /**\n   * Update the cropbox properties to their input elements\n   * @param  {Object} cropbox cropbox properties\n   * @param  {Object} options cropbox options\n   */\n  updateFields (cropbox, options) {\n    for (let field in options.inputs) {\n      if (field == 'file') {\n        continue\n      }\n      if (options.inputs[field]) {\n        let value = cropbox[field]\n        let factor = Math.pow(10, options.precision)\n        value = Math.round(value * factor) / factor\n        if (isNaN(value)) {\n          value = 0\n        }\n        $(options.inputs[field]).val(value)\n      }\n    }\n  }\n\n  init ($image, options) {\n    let [$container, $cropbox, $resizehandle] = this.addDOM($image)\n    let cropbox = this.getInitCropbox($image, $cropbox, options)\n    cropbox = resize(cropbox, { x: 0, y: 0 })\n    this.positionCropbox($cropbox, $image, cropbox)\n    this.updateFields(cropbox, options)\n    let cropboxDragHandler = new DragHandler($cropbox, (offset) => {\n      cropbox = move(cropbox, offset)\n      this.positionCropbox($cropbox, $image, cropbox)\n      this.updateFields(cropbox, options)\n    })\n    cropboxDragHandler.init()\n    let resizehandleDragHandler = new DragHandler($resizehandle, (offset) => {\n      cropbox = resize(cropbox, offset)\n      this.positionCropbox($cropbox, $image, cropbox)\n      this.updateFields(cropbox, options)\n    })\n    resizehandleDragHandler.init()\n\n    if (options.inputs.file && $(options.inputs.file).length) {\n      $(document).on('change', options.inputs.file, (e) => {\n        if (e.target.files && e.target.files[0]) {\n          var reader = new FileReader()\n          reader.onload = (e) => {\n            $image.attr('src', e.target.result)\n            $image[0].addEventListener('load', () => {\n              cropbox = this.getInitCropbox($image, $cropbox, options, true)\n              cropbox = move(cropbox, {x: 0, y: 0})\n              cropbox = resize(cropbox, {x: 0, y: 0})\n              this.positionCropbox($cropbox, $image, cropbox)\n              this.updateFields(cropbox, options)\n            })\n          }\n          reader.readAsDataURL(e.target.files[0]);\n        }\n      })\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/imagecrop.js","export default {\n  containerClass: 'imagecrop',\n  overlayClass: 'overlay',\n  cropboxClass: 'cropbox',\n  resizehandleClass: 'resizehandle'\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants.js","export default {\n  precision: 4,\n  aspectRatio: null,\n  cropbox: { x1: 0, y1: 0, x2: 100, y2: 100 },\n  inputs: {}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/defaults.js","import $ from 'jquery'\n\nexport default class DragHandler {\n  /**\n   * Create a drag handler for an element. The callback function is passed with\n   * the offset when it is moved\n   * @param  {jQuery}   element  element on which the drag events are handled\n   * @param  {Function} callback function called when the element is dragged\n   */\n  constructor (element, callback) {\n    this.$element = $(element)\n    this.callback = callback\n    this.clicked = false\n    this.cursor = { x: null, y: null }\n  }\n\n  /**\n   * handle drag start events\n   * @param  {event} e mousedown or touchstart event object\n   */\n  handleDragStart (e) {\n    this.clicked = true\n    this.cursor = { x: e.clientX, y: e.clientY }\n  }\n\n  /**\n   * handle drag events\n   * @param  {event} e mousemove or touchmove event object\n   */\n  handleDrag (e) {\n    if (!this.clicked) { return }\n    let offset = { x: e.clientX - this.cursor.x, y: e.clientY - this.cursor.y }\n    this.cursor = { x: e.clientX, y: e.clientY }\n    this.callback(offset)\n  }\n\n  /**\n   * handle drag end events\n   * @param  {event} e mouseup or touchend event object\n   */\n  handleDragEnd (e) {\n    if (!this.clicked) { return }\n    let offset = { x: e.clientX - this.cursor.x, y: e.clientY - this.cursor.y }\n    this.clicked = false\n    this.cursor = { x: null, y: null }\n    this.callback(offset)\n  }\n\n  /**\n   * initialize all the event handlers\n   */\n  init () {\n    // Drag start events\n    this.$element.on('mousedown', (e) => {\n      e.preventDefault()\n      e.stopPropagation()\n      this.handleDragStart(e)\n    })\n    this.$element.on('touchstart', (e) => {\n      e.preventDefault()\n      e.stopPropagation()\n      this.handleDragStart(e.touches[0])\n    })\n\n    // Drag events\n    $(document).on('mousemove', (e) => {\n      e.preventDefault()\n      this.handleDrag(e)\n    })\n    $(document).on('touchmove', (e) => {\n      e.preventDefault()\n      this.handleDrag(e.touches[0])\n    })\n\n    // Drag end events\n    $(document).on('mouseup', (e) => {\n      e.preventDefault()\n      this.handleDragEnd(e)\n    })\n    $(document).on('touchend', (e) => {\n      e.preventDefault()\n      this.handleDragEnd(e.changedTouches[0])\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/draghandler.js","\n/**\n * Move the cropbox by an offset value\n * @param  {Object} cropbox contains x1, y1, x2, y2, imageWidth and imageHeight\n * @param  {Object} offset  x and y offset\n * @return {Object}         x1, y1, x2, y2 after it is moved\n */\nexport const move = (cropbox, offset) => {\n  let { x1, y1, x2, y2, imageWidth, imageHeight } = cropbox\n  let x = offset.x * 100 / imageWidth\n  let y = offset.y * 100 / imageHeight\n\n  x1 += x\n  y1 += y\n  x2 += x\n  y2 += y\n\n  if (x1 < 0) {\n    // When the box is moved outside the left boundary\n    var xOffset = - x1\n    x1 = 0\n    x2 += xOffset\n  }\n\n  if (y1 < 0) {\n    // When the box is moved outside the top boundary\n    var yOffset = - y1\n    y1 = 0\n    y2 += yOffset\n  }\n\n  if (x2 > 100) {\n    // When the box is moved outside the right boundary\n    var xOffset = x2 - 100\n    x2 = 100\n    x1 -= xOffset\n  }\n\n  if (y2 > 100) {\n    // When the box is moved outside the bottom boundary\n    var yOffset = y2 - 100\n    y2 = 100\n    y1 -= yOffset\n  }\n\n  return { ...cropbox, x1, y1, x2, y2 }\n}\n\n/**\n * Resize the cropbox by an offset value\n * @param  {Object} cropbox contains x1, y1, x2, y2, imageWidth and imageHeight\n * @param  {Object} offset  x and y offset\n * @return {Object}         x1, y1, x2, y2 after it is moved\n */\nexport const resize = (cropbox, offset) => {\n  let { x1, y1, x2, y2, imageWidth, imageHeight, aspectRatio } = cropbox\n  let x = offset.x * 100 / imageWidth\n  let y = offset.y * 100 / imageHeight\n\n  x2 += x\n  y2 += y\n\n  if (x2 > 100) {\n    // When the box is resized outside the right boundary\n    x2 = 100\n  }\n\n  if (y2 > 100) {\n    // When the box is resized outside the bottom boundary\n    y2 = 100\n  }\n\n  if (aspectRatio) {\n    // If an aspect ratio is specified adjust the x2 and y2 coordinates\n    let width = (x2 - x1) * imageWidth / 100\n    let height = width / aspectRatio\n    y2 = y1 + (height * 100 / imageHeight)\n\n    if (y2 > 100) {\n      y2 = 100\n      height = (y2 - y1) * imageHeight / 100\n      width = height * aspectRatio\n    }\n\n    x2 = x1 + (width * 100 / imageWidth)\n    y2 = y1 + (height * 100 / imageHeight)\n  }\n\n  if (x2 < x1) {\n    // x2 coordinate cannot be less than x1\n    x2 = x1\n  }\n\n  if (y2 < y1) {\n    // y2 coordinate cannot be less than y1\n    y2 = y1\n  }\n\n  return { ...cropbox, x1, y1, x2, y2 }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/cropbox.js"],"sourceRoot":""}